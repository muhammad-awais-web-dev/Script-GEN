<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cinematic Horror Story Generator - Standalone</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap');
        body {
            font-family: 'Roboto Mono', monospace;
        }
        .spinner {
            border: 4px solid transparent;
            border-top: 4px solid #14b8a6;
            border-right: 4px solid #14b8a6;
            border-radius: 50%;
            width: 64px;
            height: 64px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-300">
    <div id="root"></div>

    <script type="module">
        // ========== CONFIGURATION ==========
        // IMPORTANT: Replace 'YOUR_API_KEY_HERE' with your actual Gemini API key
        const HARDCODED_API_KEY = 'YOUR_API_KEY_HERE';
        
        // ========== CONSTANTS ==========
        const SETTINGS = [
            "a remote desert weigh-station",
            "an eerie, underfunded hospital basement",
            "a sprawling, automated warehouse on the outskirts of town",
            "a forgotten subway maintenance tunnel",
            "a high-voltage power substation in a desolate area",
            "a clinical, sterile research lab after hours",
            "a run-down motel on a lonely highway",
            "a small town's empty library at midnight"
        ];

        const ROLES_MAP = {
            "a remote desert weigh-station": { role: "night-shift weigh station operator", jobTitle: "Operator", wardrobe: "a worn field jacket over a uniform shirt" },
            "an eerie, underfunded hospital basement": { role: "late-night morgue attendant", jobTitle: "Attendant", wardrobe: "standard-issue medical scrubs" },
            "a sprawling, automated warehouse on the outskirts of town": { role: "lone overnight inventory technician", jobTitle: "Technician", wardrobe: "a high-visibility safety vest over a work uniform" },
            "a forgotten subway maintenance tunnel": { role: "solitary track maintenance worker", jobTitle: "Worker", wardrobe: "heavy-duty coveralls and a hard hat" },
            "a high-voltage power substation in a desolate area": { role: "night-shift substation technician", jobTitle: "Technician", wardrobe: "a flame-retardant utility uniform" },
            "a clinical, sterile research lab after hours": { role: "junior lab assistant on cleanup duty", jobTitle: "Assistant", wardrobe: "a pristine white lab coat" },
            "a run-down motel on a lonely highway": { role: "night manager of a secluded motel", jobTitle: "Manager", wardrobe: "a slightly frayed blazer over a collared shirt" },
            "a small town's empty library at midnight": { role: "overnight security guard at the municipal archive", jobTitle: "Guard", wardrobe: "a crisp security guard uniform" }
        };

        const LENS_PATTERN = [
            { lens: '24mm', shotSize: 'wide' },
            { lens: '35mm', shotSize: 'medium' },
            { lens: '85mm', shotSize: 'close-up' },
            { lens: '100mm_macro', shotSize: 'macro' }
        ];

        const NEGATIVE_PROMPTS = "cartoon, overexposed, saturated colors, text overlay, harsh shadows, flat lighting, fantasy armor, anime lines, smiling faces, cluttered background, out-of-frame composition, low-res, motion blur, double exposure, watermark, logo, text artifacts, mutated hands, extra fingers, deformed limbs, duplicate face.";

        // ========== UTILITY FUNCTIONS ==========
        const getRandomElement = (arr) => arr[Math.floor(Math.random() * arr.length)];

        // ========== API FUNCTIONS ==========
        async function generateHorrorStory() {
            if (!HARDCODED_API_KEY || HARDCODED_API_KEY === 'YOUR_API_KEY_HERE') {
                throw new Error('Please set your Gemini API key in the HARDCODED_API_KEY variable at the top of this HTML file.');
            }

            const setting = getRandomElement(SETTINGS);
            const { role, jobTitle, wardrobe } = ROLES_MAP[setting];
            const randomId = Math.floor(Math.random() * 99) + 1;
            const characterIdentifier = `${jobTitle} #${randomId}`;

            const prompt = `You are an elite cinematic scriptwriter specializing in psychological horror for TikTok, creating a "rule-based" scenario.
Generate a complete studio-ready script and production plan based on the following parameters:
- Setting: ${setting}
- Role: ${role}
- Character: Southeast Asian male, early 40s, short black hair, gaunt, tired eyes, moody silhouette.

Your output MUST be a valid JSON object. Do not include any markdown formatting like \`\`\`json.

The JSON object must conform to this schema:
{
  "title": "A short, ominous, cinematic title.",
  "rules": ["An array of exactly 8 short, imperative rules. Do NOT include prefixes like 'Rule 1:'. Just provide the rule text. The rules should escalate from mild unease to hopelessness. Each rule is a string."],
  "scene_concepts": ["An array of exactly 24 brief, evocative scene concepts, 3 for each of the 8 rules. These should describe an action or a visual related to the corresponding rule."],
  "viral_titles": ["An array of 10 short, ominous, headline-style titles for social media."],
  "viral_hook": "A 1-2 sentence hook for the first 5 seconds of the video, based on the story.",
  "hashtags": ["An array of 10 relevant hashtags."]
}

Follow these constraints for the content:
- The total narration (the 8 rules) must be 120-165 words.
- The tone must be eerie, cinematic, and psychological, not gory.`;

            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${HARDCODED_API_KEY}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    contents: [{
                        parts: [{
                            text: prompt
                        }]
                    }],
                    generationConfig: {
                        temperature: 1.0,
                        responseMimeType: 'application/json',
                        responseSchema: {
                            type: 'OBJECT',
                            properties: {
                                title: { type: 'STRING' },
                                rules: {
                                    type: 'ARRAY',
                                    items: { type: 'STRING' }
                                },
                                scene_concepts: {
                                    type: 'ARRAY',
                                    items: { type: 'STRING' }
                                },
                                viral_titles: {
                                    type: 'ARRAY',
                                    items: { type: 'STRING' }
                                },
                                viral_hook: { type: 'STRING' },
                                hashtags: {
                                    type: 'ARRAY',
                                    items: { type: 'STRING' }
                                }
                            },
                            required: ["title", "rules", "scene_concepts", "viral_titles", "viral_hook", "hashtags"]
                        }
                    }
                })
            });

            if (!response.ok) {
                const errorData = await response.json();
                throw new Error(`API Error: ${errorData.error?.message || response.statusText}`);
            }

            const result = await response.json();
            const rawJson = result.candidates[0].content.parts[0].text.trim();
            const generatedContent = JSON.parse(rawJson);

            // Build the final story data
            const formattedRules = generatedContent.rules.map((rule, index) => `Rule No ${index + 1}: ${rule}`);

            const importantRuleIndex = Math.floor(Math.random() * 3) + 5;
            const importantRuleNumber = importantRuleIndex + 1;
            const attentionGrabbingLine = `Rule No ${importantRuleNumber} is the most important to follow. Pay close attention.`;

            const narrationScript = [
                `Congratulations. You've been hired as ${role} at ${setting}.`,
                attentionGrabbingLine,
                ...formattedRules,
                `Stay calm. Follow the rules. Good luck, ${jobTitle}.`
            ];

            const scenes = [];
            scenes.push({ 
                title: 'Elevator Arrival', 
                description: `teal overhead neon flicker, dense fog, ${characterIdentifier}'s silhouette entering the main door of the ${setting}, soft tungsten desk lamp pool, shallow DOF, cinematic realism.`, 
                ...LENS_PATTERN[0] 
            });
            scenes.push({ 
                title: 'ID Badge Scan', 
                description: `${characterIdentifier} scans ID badge #${randomId} at a security panel. A green light briefly illuminates his tired face.`, 
                ...LENS_PATTERN[1] 
            });
            scenes.push({ 
                title: 'The Empty Workspace', 
                description: 'A slow pan across the eerily quiet and empty workspace. A single monitor hums, casting a cyan glow.', 
                ...LENS_PATTERN[2] 
            });

            generatedContent.scene_concepts.forEach((concept, index) => {
                const pattern = LENS_PATTERN[(index + 3) % LENS_PATTERN.length];
                scenes.push({
                    title: `Rule ${Math.floor(index / 3) + 1} - Scene ${index % 3 + 1}`,
                    description: concept,
                    ...pattern
                });
            });

            scenes.push({ 
                title: 'A Rule Broken', 
                description: 'A piece of equipment malfunctions violently, its warning light flashing a desperate red against the dominant teal.', 
                ...LENS_PATTERN[0] 
            });
            scenes.push({ 
                title: 'Resigned Fear', 
                description: `Close up on ${characterIdentifier}'s face, eyes wide, reflecting the chaos. He is frozen, realizing his mistake.`, 
                ...LENS_PATTERN[1] 
            });
            scenes.push({ 
                title: 'Final Glance', 
                description: `Macro shot of the ID badge #${randomId}, slightly askew on his uniform. The name is out of focus, only the number is clear.`, 
                ...LENS_PATTERN[2] 
            });

            const veoPrompts = scenes.map((scene, index) => {
                const prompt = `${scene.description}, cinematic anime style, teal-cyan neon lighting, tungsten accents, volumetric fog, shallow DOF, cinematic realism, film grain, chromatic aberration, scanlines, desaturated tones, soft vignette, moody atmosphere. Primary: Southeast Asian male, early 40s, short black hair, gaunt, ID#${randomId}, ${wardrobe}, consistent with ${setting}.`;
                const parameters = `--ar 9:16 --style cinematic --lighting teal_neon --camera ${scene.lens} --grain film --depth shallow --vibe eerie --quality ultra --saturation -15 --contrast +10 --fog moderate --vfx_scanlines subtle`;
                return { prompt, parameters };
            });

            const thumbnailPrompt = `${setting} in teal-cyan neon haze, cinematic anime style, warm tungsten pool, ${jobTitle}'s silhouette (male, early 40s, short black hair, ID#${randomId}) half-turned toward camera, monitor glow reflected in eyes, film grain, scanlines, chromatic aberration, shallow DOF, cinematic vignette.`;

            return {
                title: generatedContent.title,
                setting,
                role,
                jobTitle,
                wardrobe,
                narrationScript,
                scenes,
                veoPrompts,
                musicAndSfxNotes: [
                    "Ambient Base: A low, continuous mechanical hum or lab drone in the key of C#.",
                    "Transitional Cues: Sudden metallic creaks, a sharp hiss of steam, or faint, distant knocking between rule segments.",
                    "Emotional Cues: A subtle, deep bass pulse that slowly rises in intensity and frequency with each rule, peaking at rule 8.",
                    "Pacing Bed (Optional): An 85 BPM dark ambient track with a simple, repeating synth line to drive the 60-second flow for TikTok.",
                    "Mixing Note: Ensure the Voiceover remains clear and intelligible. Sidechain the pacing bed by -4 dB whenever the narrator speaks."
                ],
                voiceoverDirection: [
                    "Tone: Deliver the lines in a calm, detached, almost clinical manner. The voice should feel inhumanly professional.",
                    "Pacing: Speak at approximately 70% of a normal pace, leaving deliberate, unnerving pauses between phrases.",
                    "Breath Beats: Treat each numbered rule as a separate thought. Take a small, audible breath (100-200 ms) before starting each new rule.",
                    "Final Line: The final line, 'Good luck...', should be delivered as a soft, almost inaudible whisper, mixed -6 dB below the main VO level."
                ],
                viralTitles: generatedContent.viral_titles,
                viralHook: generatedContent.viral_hook,
                thumbnailPrompt,
                hashtags: generatedContent.hashtags
            };
        }

        // ========== UI COMPONENTS ==========
        function App() {
            const [storyData, setStoryData] = React.useState(null);
            const [isLoading, setIsLoading] = React.useState(false);
            const [error, setError] = React.useState(null);

            const handleGenerate = async () => {
                setIsLoading(true);
                setError(null);
                setStoryData(null);

                try {
                    const story = await generateHorrorStory();
                    setStoryData(story);
                } catch (err) {
                    setError(err.message);
                    console.error(err);
                } finally {
                    setIsLoading(false);
                }
            };

            return React.createElement('div', { className: 'min-h-screen bg-gray-900 text-gray-300 font-mono p-4 sm:p-6 md:p-8' },
                React.createElement('div', { className: 'max-w-4xl mx-auto' },
                    React.createElement('header', { className: 'text-center mb-8 border-b-2 border-teal-500/30 pb-6' },
                        React.createElement('h1', { className: 'text-3xl sm:text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-500' },
                            '🎬 Cinematic Horror Story Generator'
                        ),
                        React.createElement('p', { className: 'mt-4 text-gray-400 max-w-2xl mx-auto' },
                            'Produce a studio-ready deliverable for your next TikTok horror story.'
                        )
                    ),
                    React.createElement('main', { className: 'text-center' },
                        React.createElement('button', {
                            onClick: handleGenerate,
                            disabled: isLoading,
                            className: 'bg-teal-500 hover:bg-teal-400 text-gray-900 font-bold py-3 px-8 rounded-lg shadow-lg shadow-teal-500/20 transition-all duration-300 ease-in-out transform hover:scale-105 disabled:bg-gray-600 disabled:cursor-not-allowed disabled:shadow-none disabled:scale-100'
                        }, isLoading ? 'Generating Script...' : 'Generate Story Script'),
                        React.createElement('div', { className: 'mt-8' },
                            isLoading && React.createElement(LoadingSpinner, { message: 'Generating Cinematic Script...' }),
                            error && React.createElement('div', { className: 'mt-6 p-4 bg-red-900/50 border border-red-700 text-red-300 rounded-lg' }, error)
                        )
                    ),
                    storyData && React.createElement(StoryDisplay, { data: storyData }),
                    React.createElement('footer', { className: 'text-center mt-12 text-gray-600 text-sm' },
                        React.createElement('p', null, 'Powered by Google Gemini. Designed for cinematic professionals.')
                    )
                )
            );
        }

        function LoadingSpinner({ message = 'Generating...' }) {
            return React.createElement('div', { className: 'flex flex-col items-center justify-center p-8' },
                React.createElement('div', { className: 'spinner' }),
                React.createElement('p', { className: 'mt-4 text-lg text-teal-300' }, message),
                React.createElement('p', { className: 'text-sm text-gray-500' }, 'This may take a moment.')
            );
        }

        function Section({ title, sectionNumber, icon = '🧩', children, onDownload }) {
            const [isOpen, setIsOpen] = React.useState(true);

            return React.createElement('div', { className: 'mb-6 bg-gray-800/50 border border-gray-700 rounded-lg overflow-hidden' },
                React.createElement('button', {
                    onClick: () => setIsOpen(!isOpen),
                    className: 'w-full p-4 flex justify-between items-center bg-gray-800 hover:bg-gray-700/50 transition-colors'
                },
                    React.createElement('h2', { className: 'text-xl font-bold text-teal-400 text-left flex-grow' },
                        React.createElement('span', { className: 'text-gray-500' }, String(sectionNumber).padStart(2, '0')),
                        ' ',
                        icon,
                        ' ',
                        title
                    ),
                    React.createElement('div', { className: 'flex items-center gap-2' },
                        onDownload && React.createElement('button', {
                            onClick: (e) => {
                                e.stopPropagation();
                                onDownload();
                            },
                            className: 'p-2 rounded-full hover:bg-gray-600 transition-colors',
                            title: `Download ${title}`
                        }, '⬇️'),
                        React.createElement('span', {
                            className: 'text-teal-400 transform transition-transform duration-300 text-2xl leading-none',
                            style: { transform: isOpen ? 'rotate(90deg)' : 'rotate(0deg)' }
                        }, '▸')
                    )
                ),
                isOpen && React.createElement('div', { className: 'p-4 md:p-6 border-t border-gray-700' }, children)
            );
        }

        function StoryDisplay({ data }) {
            const [copied, setCopied] = React.useState(false);

            const downloadTextAsFile = (content, filename) => {
                const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = filename;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);
            };

            const formatStoryForClipboard = () => {
                let text = `🎬 Rule-Based Horror Story – ${data.title}\n\n`;
                text += `🧩 SECTION 1: Story Script (Narration Format)\n🎙 NARRATION SCRIPT\n${data.narrationScript.join('\n\n')}\n\n`;
                text += `🎞 SECTION 2: Scene-by-Scene B-Roll Plan\n${data.scenes.map((s, i) => `Scene ${String(i + 1).padStart(2, '0')} — ${s.title}\nDescription: ${s.description} [${s.lens}]`).join('\n\n')}\n\n`;
                text += `🖼 SECTION 3: Veo 3 Image Prompts (Optimized)\n${data.veoPrompts.map((p, i) => `Prompt ${i + 1}:\n${p.prompt}\nParameters:\n${p.parameters}`).join('\n\n')}\n\n`;
                text += `🎵 SECTION 4: Music + SFX Design Notes\n${data.musicAndSfxNotes.join('\n')}\n\n`;
                text += `🔊 SECTION 5: Voiceover Direction\n${data.voiceoverDirection.join('\n')}\n\n`;
                text += `🧠 SECTION 6: Viral Title + Hook Options\nTitles:\n${data.viralTitles.join('\n')}\n\nHook Rewrite:\n${data.viralHook}\n\n`;
                text += `🧩 SECTION 7: Thumbnail Prompt\n${data.thumbnailPrompt}\n\n`;
                text += `⚠️ SECTION 8: Safety Disclaimer\nThis story and all visual elements are fictional. No real locations, persons, or organizations are depicted. All AI generations follow content safety standards.\n\n`;
                text += `SECTION 10: Viral Hashtags\n${data.hashtags.map(h => `#${h}`).join(' ')}\n`;
                return text;
            };

            const handleCopyToClipboard = () => {
                const textToCopy = formatStoryForClipboard();
                navigator.clipboard.writeText(textToCopy);
                setCopied(true);
                setTimeout(() => setCopied(false), 2000);
            };

            return React.createElement('div', { className: 'mt-10 text-left bg-gray-900/50 p-4 sm:p-6 rounded-lg border-2 border-teal-500/30' },
                React.createElement('h1', { className: 'text-2xl sm:text-3xl font-bold text-center mb-6 pb-4 border-b border-gray-700' },
                    `🎬 Rule-Based Horror Story – ${data.title}`
                ),

                React.createElement(Section, {
                    title: 'Story Script (Narration Format)',
                    sectionNumber: 1,
                    onDownload: () => downloadTextAsFile(data.narrationScript.join('\n\n'), '01_Narration_Script.txt')
                },
                    React.createElement('h3', { className: 'text-lg font-semibold mb-3 text-cyan-400' }, '🎙 NARRATION SCRIPT'),
                    React.createElement('div', { className: 'whitespace-pre-wrap space-y-4' },
                        data.narrationScript.map((line, index) =>
                            React.createElement('p', { key: index }, line)
                        )
                    )
                ),

                React.createElement(Section, {
                    title: 'Scene-by-Scene B-Roll Plan',
                    sectionNumber: 2,
                    onDownload: () => downloadTextAsFile(data.scenes.map((s, i) => `Scene ${String(i + 1).padStart(2, '0')} — ${s.title}\nDescription: ${s.description} [${s.lens}]`).join('\n\n'), '02_B-Roll_Plan.txt')
                },
                    data.scenes.map((scene, index) =>
                        React.createElement('div', { key: index, className: 'mb-4 pb-4 border-b border-gray-700/50 last:border-b-0' },
                            React.createElement('h4', { className: 'font-bold text-cyan-400' }, `Scene ${String(index + 1).padStart(2, '0')} — ${scene.title}`),
                            React.createElement('p', { className: 'text-gray-400' },
                                'Description: ',
                                scene.description,
                                ' ',
                                React.createElement('span', { className: 'text-teal-400 font-semibold' }, `[${scene.lens}]`)
                            )
                        )
                    )
                ),

                React.createElement(Section, {
                    title: 'Veo 3 Image Prompts (Optimized)',
                    sectionNumber: 3,
                    onDownload: () => downloadTextAsFile(data.veoPrompts.map((p, i) => `Prompt ${i + 1}:\n${p.prompt}\n\nParameters:\n${p.parameters}\n\nNegative Prompts:\n${NEGATIVE_PROMPTS}`).join('\n\n---\n\n'), '03_Veo_Prompts.txt')
                },
                    data.veoPrompts.map((prompt, index) =>
                        React.createElement('div', { key: index, className: 'mb-4 font-mono text-sm bg-black/30 p-3 rounded' },
                            React.createElement('p', { className: 'font-bold text-cyan-400' }, `Prompt ${index + 1}:`),
                            React.createElement('p', { className: 'text-gray-300 my-1' }, prompt.prompt),
                            React.createElement('p', { className: 'font-bold text-cyan-400 mt-2' }, 'Parameters:'),
                            React.createElement('p', { className: 'text-teal-300' }, prompt.parameters)
                        )
                    )
                ),

                React.createElement(Section, {
                    title: 'Music + SFX Design Notes',
                    sectionNumber: 4,
                    onDownload: () => downloadTextAsFile(data.musicAndSfxNotes.join('\n'), '04_Music_SFX_Notes.txt')
                },
                    React.createElement('ul', { className: 'list-disc list-inside space-y-2 text-gray-400' },
                        data.musicAndSfxNotes.map((note, i) =>
                            React.createElement('li', { key: i }, note)
                        )
                    )
                ),

                React.createElement(Section, {
                    title: 'Voiceover Direction',
                    sectionNumber: 5,
                    onDownload: () => downloadTextAsFile(data.voiceoverDirection.join('\n'), '05_Voiceover_Direction.txt')
                },
                    React.createElement('ul', { className: 'list-disc list-inside space-y-2 text-gray-400' },
                        data.voiceoverDirection.map((note, i) =>
                            React.createElement('li', { key: i }, note)
                        )
                    )
                ),

                React.createElement(Section, {
                    title: 'Viral Title + Hook Options',
                    sectionNumber: 6,
                    onDownload: () => downloadTextAsFile(`10 Title Options:\n${data.viralTitles.join('\n')}\n\nHook Rewrite (First 5 seconds):\n"${data.viralHook}"`, '06_Viral_Content.txt')
                },
                    React.createElement('h4', { className: 'font-bold text-cyan-400' }, '10 Title Options:'),
                    React.createElement('ul', { className: 'list-decimal list-inside my-2 pl-4 text-gray-400' },
                        data.viralTitles.map((title, i) =>
                            React.createElement('li', { key: i }, title)
                        )
                    ),
                    React.createElement('h4', { className: 'font-bold text-cyan-400 mt-4' }, 'Hook Rewrite (First 5 seconds):'),
                    React.createElement('p', { className: 'text-gray-400 italic mt-1' }, `"${data.viralHook}"`)
                ),

                React.createElement(Section, {
                    title: 'Thumbnail Prompt',
                    sectionNumber: 7,
                    onDownload: () => downloadTextAsFile(data.thumbnailPrompt, '07_Thumbnail_Prompt.txt')
                },
                    React.createElement('div', { className: 'font-mono text-sm bg-black/30 p-3 rounded' },
                        React.createElement('p', { className: 'font-bold text-cyan-400' }, 'Thumbnail Prompt:'),
                        React.createElement('p', { className: 'text-gray-300 mt-1' }, data.thumbnailPrompt)
                    )
                ),

                React.createElement(Section, { title: 'Safety Disclaimer', sectionNumber: 8 },
                    React.createElement('p', { className: 'text-sm text-gray-500 italic' },
                        'This story and all visual elements are fictional. No real locations, persons, or organizations are depicted. All AI generations follow content safety standards.'
                    )
                ),

                React.createElement(Section, { title: 'Export Controls', sectionNumber: 9 },
                    React.createElement('div', { className: 'space-y-3' },
                        React.createElement('button', {
                            onClick: handleCopyToClipboard,
                            className: 'flex items-center text-gray-200 p-2 rounded-md bg-teal-600 hover:bg-teal-500 transition-colors'
                        },
                            React.createElement('span', null, copied ? '✅' : '📋'),
                            React.createElement('span', { className: 'ml-2' }, copied ? 'Copied!' : 'Copy to Clipboard')
                        )
                    )
                ),

                React.createElement(Section, {
                    title: 'Viral Hashtags',
                    sectionNumber: 10,
                    onDownload: () => downloadTextAsFile(data.hashtags.map(h => `#${h}`).join(' '), '10_Viral_Hashtags.txt')
                },
                    React.createElement('p', { className: 'text-cyan-300 break-words' },
                        data.hashtags.map(h => `#${h}`).join(' ')
                    )
                )
            );
        }

        // Load React from CDN
        const script1 = document.createElement('script');
        script1.crossOrigin = 'anonymous';
        script1.src = 'https://unpkg.com/react@18/umd/react.production.min.js';
        
        const script2 = document.createElement('script');
        script2.crossOrigin = 'anonymous';
        script2.src = 'https://unpkg.com/react-dom@18/umd/react-dom.production.min.js';

        script2.onload = () => {
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(React.createElement(App));
        };

        document.head.appendChild(script1);
        document.head.appendChild(script2);
    </script>
</body>
</html>
